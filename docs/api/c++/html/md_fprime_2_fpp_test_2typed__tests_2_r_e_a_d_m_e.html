<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F´ Flight Software - C/C++ Documentation: FppTest/typed_tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">F´ Flight Software - C/C++ Documentation<span id="projectnumber">&#160;devel</span>
   </div>
   <div id="projectbrief">A framework for building embedded system applications to NASA flight quality standards.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_fprime_2_fpp_test_2typed__tests_2_r_e_a_d_m_e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">FppTest/typed_tests</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md623"></a></p>
<p>This directory contains the following type-parameterized test suites for C++ code generated by the FPP autocoder.</p>
<ul>
<li><code><a class="el" href="class_array_test.html">ArrayTest</a></code>: Tests an array class</li>
<li><code><a class="el" href="class_enum_test.html">EnumTest</a></code>: Tests an enum class</li>
<li><code>PortTest</code>: Tests typed-to-typed, typed-to-serial, serial-to-typed, and serial-to-serial port connections</li>
<li><code><a class="el" href="class_string_test.html">StringTest</a></code>: Tests string classes, i.e., subclasses of <code><a class="el" href="class_fw_1_1_string_base.html">Fw::StringBase</a></code>.</li>
</ul>
<p><b>Note on the <a class="el" href="class_string_test.html">StringTest</a> suite:</b> In an earlier version of the C++ back end, FPP generated string classes. In that version, <code><a class="el" href="class_string_test.html">StringTest</a></code> suite was used to provide code coverage for those classes. The code generation strategy for strings has changed, and FPP no longer generates string classes. However, we have retained the <code><a class="el" href="class_string_test.html">StringTest</a></code> suite. It can be used to test other string implementations, e.g., the string implementations in <code>Fw/Types</code>.</p>
<h1><a class="anchor" id="autotoc_md624"></a>
Instantiating a Test Suite</h1>
<p>To use a type-parameterized test suite, instantiate it with a list of types:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &quot;FppTest/typed_tests/TestSuite.hpp&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using </span>TestTypes = ::testing::Types&lt;</div>
<div class="line">    Type1,</div>
<div class="line">    Type2,</div>
<div class="line">    Type3</div>
<div class="line">&gt;;</div>
<div class="line"><a class="code hl_function" href="_fpp_test_2array_2_main_8cpp.html#aa6482079cde91a8aa7bf201d78517d05">INSTANTIATE_TYPED_TEST_SUITE_P</a>(InstanceName, </div>
<div class="line">                               TestSuite, </div>
<div class="line">                               TestTypes);</div>
<div class="ttc" id="a_fpp_test_2array_2_main_8cpp_html_aa6482079cde91a8aa7bf201d78517d05"><div class="ttname"><a href="_fpp_test_2array_2_main_8cpp.html#aa6482079cde91a8aa7bf201d78517d05">INSTANTIATE_TYPED_TEST_SUITE_P</a></div><div class="ttdeci">INSTANTIATE_TYPED_TEST_SUITE_P(FppTest, ArrayTest, ArrayTestImplementations)</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md625"></a>
Implementing Specializations</h1>
<p>In addition to instantiating the test suite, you may also need to implement some explicit specializations for template functions if the behavior of your class differs from the provided default implementation.</p>
<h2><a class="anchor" id="autotoc_md626"></a>
<code>EnumTest</code> Suite</h2>
<ul>
<li><p class="startli"><code>getDefaultValue()</code>: Returns the default value of an enum type. The default implementation returns 0.</p>
<div class="fragment"><div class="line">++</div>
<div class="line"> <span class="comment">// Function signature</span></div>
<div class="line"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> EnumType&gt;</div>
<div class="line"> <span class="keyword">typename</span> EnumType::T <a class="code hl_function" href="namespace_fpp_test_1_1_enum.html#a6cc3af70d8b2f1578eb5cf9f4f1a035b">FppTest::Enum::getDefaultValue</a>();</div>
<div class="ttc" id="anamespace_fpp_test_1_1_enum_html_a6cc3af70d8b2f1578eb5cf9f4f1a035b"><div class="ttname"><a href="namespace_fpp_test_1_1_enum.html#a6cc3af70d8b2f1578eb5cf9f4f1a035b">FppTest::Enum::getDefaultValue</a></div><div class="ttdeci">EnumType::T getDefaultValue()</div><div class="ttdef"><b>Definition</b> <a href="_enum_test_8hpp_source.html#l00029">EnumTest.hpp:29</a></div></div>
</div><!-- fragment --></li>
<li><p class="startli"><code>getValidValue()</code>: Returns a random valid enum value. The default implementation assumes the values of the enum have been implicitly defined, i.e. it returns a value in the interval <code>[0, EnumType::NUM_CONSTANTS-1]</code>.</p>
<div class="fragment"><div class="line">++</div>
<div class="line"> <span class="comment">// Function signature</span></div>
<div class="line"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> EnumType&gt;</div>
<div class="line"> <span class="keyword">typename</span> EnumType::T <a class="code hl_function" href="namespace_fpp_test_1_1_enum.html#a33fcab18c13e29db96ed7e8c466d9a48">FppTest::Enum::getValidValue</a>();</div>
<div class="ttc" id="anamespace_fpp_test_1_1_enum_html_a33fcab18c13e29db96ed7e8c466d9a48"><div class="ttname"><a href="namespace_fpp_test_1_1_enum.html#a33fcab18c13e29db96ed7e8c466d9a48">FppTest::Enum::getValidValue</a></div><div class="ttdeci">EnumType::T getValidValue()</div><div class="ttdef"><b>Definition</b> <a href="_enum_test_8hpp_source.html#l00035">EnumTest.hpp:35</a></div></div>
</div><!-- fragment --></li>
<li><p class="startli"><code>getInvalidValue()</code>: Returns an random invalid enum value. The default implementation assumes the values of the enum have been implicitly defined, i.e. it returns a value either in the interval <code>[min, -1]</code> (if the serial representation type is signed) or in the interval <code>[EnumType::NUM_CONSTANTS, max]</code>, where <code>min</code> and <code>max</code> are the minimum and maximum values of the serial representation type, respectively.</p>
<div class="fragment"><div class="line">++</div>
<div class="line"> <span class="comment">// Function signature</span></div>
<div class="line"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> EnumType&gt;</div>
<div class="line"> <span class="keyword">typename</span> EnumType::T <a class="code hl_function" href="namespace_fpp_test_1_1_enum.html#ac2f7a6d4fc70d14b612f54879ac075cb">FppTest::Enum::getInvalidValue</a>();</div>
<div class="ttc" id="anamespace_fpp_test_1_1_enum_html_ac2f7a6d4fc70d14b612f54879ac075cb"><div class="ttname"><a href="namespace_fpp_test_1_1_enum.html#ac2f7a6d4fc70d14b612f54879ac075cb">FppTest::Enum::getInvalidValue</a></div><div class="ttdeci">EnumType::T getInvalidValue()</div><div class="ttdef"><b>Definition</b> <a href="_enum_test_8hpp_source.html#l00046">EnumTest.hpp:46</a></div></div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="autotoc_md627"></a>
<code>ArrayTest</code> Suite</h2>
<p>The following functions MUST be implemented for your array type!</p>
<ul>
<li><p class="startli"><code>setTestVals()</code>: Sets test values for an array. There is no default implementation, so this function must be implemented for your array type! In addition, these test values must be different from the default values.</p>
<div class="fragment"><div class="line">++</div>
<div class="line"> <span class="comment">// Function signature</span></div>
<div class="line"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ArrayType&gt;</div>
<div class="line"> <span class="keywordtype">void</span> <a class="code hl_function" href="namespace_fpp_test_1_1_array.html#ab0a8b178616ec06a43998351b2092cfe">FppTest::Array::setTestVals</a></div>
<div class="line">     (<span class="keyword">typename</span> ArrayType::ElementType (&amp;a)[ArrayType::SIZE]);</div>
<div class="ttc" id="anamespace_fpp_test_1_1_array_html_ab0a8b178616ec06a43998351b2092cfe"><div class="ttname"><a href="namespace_fpp_test_1_1_array.html#ab0a8b178616ec06a43998351b2092cfe">FppTest::Array::setTestVals</a></div><div class="ttdeci">void setTestVals(typename ArrayType::ElementType(&amp;a)[ArrayType::SIZE])</div></div>
</div><!-- fragment --></li>
<li><p class="startli"><code>getMultiElementConstructedArray()</code>: Returns an array constructed using its multiple element constructor. There is no default implementation, so this function must be implemented for your array type!</p>
<div class="fragment"><div class="line">++</div>
<div class="line"> <span class="comment">// Function signature</span></div>
<div class="line"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ArrayType&gt;</div>
<div class="line"> ArrayType <a class="code hl_function" href="namespace_fpp_test_1_1_array.html#a4bac0a9be0663dfcbc32a8983f415f66">FppTest::Array::getMultiElementConstructedArray</a></div>
<div class="line">     (<span class="keyword">typename</span> ArrayType::ElementType (&amp;a)[ArrayType::SIZE]);</div>
<div class="ttc" id="anamespace_fpp_test_1_1_array_html_a4bac0a9be0663dfcbc32a8983f415f66"><div class="ttname"><a href="namespace_fpp_test_1_1_array.html#a4bac0a9be0663dfcbc32a8983f415f66">FppTest::Array::getMultiElementConstructedArray</a></div><div class="ttdeci">ArrayType getMultiElementConstructedArray(typename ArrayType::ElementType(&amp;a)[ArrayType::SIZE])</div></div>
</div><!-- fragment --></li>
</ul>
<p>The following functions may or may not need to be implemented:</p>
<ul>
<li><p class="startli"><code>setDefaultVals()</code>: Sets the default values for an array. The default implementation is empty (i.e. the values are either zero-initialized or default-initialized).</p>
<div class="fragment"><div class="line">++</div>
<div class="line"> <span class="comment">// Function signature</span></div>
<div class="line"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ArrayType&gt;</div>
<div class="line"> <span class="keywordtype">void</span> <a class="code hl_function" href="namespace_fpp_test_1_1_array.html#af8c8d56b8b0a1380cf94b0708c0a9912">FppTest::Array::setDefaultVals</a></div>
<div class="line">     (<span class="keyword">typename</span> ArrayType::ElementType (&amp;a)[ArrayType::SIZE]);</div>
<div class="ttc" id="anamespace_fpp_test_1_1_array_html_af8c8d56b8b0a1380cf94b0708c0a9912"><div class="ttname"><a href="namespace_fpp_test_1_1_array.html#af8c8d56b8b0a1380cf94b0708c0a9912">FppTest::Array::setDefaultVals</a></div><div class="ttdeci">void setDefaultVals(typename ArrayType::ElementType(&amp;a)[ArrayType::SIZE])</div><div class="ttdef"><b>Definition</b> <a href="_array_test_8hpp_source.html#l00029">ArrayTest.hpp:30</a></div></div>
</div><!-- fragment --></li>
<li><p class="startli"><code>getSerializedSize()</code>: Returns the serialized size of an array. The default implementation returns the <code>SERIALIZED_SIZE</code> of the array type. In particular, this function will need to be implemented for arrays containing string values.</p>
<div class="fragment"><div class="line">++</div>
<div class="line"> <span class="comment">// Function signature</span></div>
<div class="line"> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ArrayType&gt;</div>
<div class="line"> <a class="code hl_typedef" href="basic__types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a> <a class="code hl_function" href="namespace_fpp_test_1_1_array.html#ade1586acc7c2d57ebf5bb20b6fba30f7">FppTest::Array::getSerializedSize</a></div>
<div class="line">     (<span class="keyword">typename</span> ArrayType::ElementType (&amp;a)[ArrayType::SIZE]);</div>
<div class="ttc" id="abasic__types_8h_html_a696390429f2f3b644bde8d0322a24124"><div class="ttname"><a href="basic__types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a></div><div class="ttdeci">uint32_t U32</div><div class="ttdef"><b>Definition</b> <a href="basic__types_8h_source.html#l00028">basic_types.h:28</a></div></div>
<div class="ttc" id="anamespace_fpp_test_1_1_array_html_ade1586acc7c2d57ebf5bb20b6fba30f7"><div class="ttname"><a href="namespace_fpp_test_1_1_array.html#ade1586acc7c2d57ebf5bb20b6fba30f7">FppTest::Array::getSerializedSize</a></div><div class="ttdeci">U32 getSerializedSize(typename ArrayType::ElementType(&amp;a)[ArrayType::SIZE])</div><div class="ttdef"><b>Definition</b> <a href="_array_test_8hpp_source.html#l00043">ArrayTest.hpp:44</a></div></div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="autotoc_md628"></a>
Example</h1>
<p>For example, to use the <code><a class="el" href="class_array_test.html">ArrayTest</a></code> suite with array types <code>U32Array</code>, an array of three U32 values, and <code>F32Array</code>, an array of four F32 values:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_array_test_8hpp.html">FppTest/typed_tests/ArrayTest.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instantiate the test suite with a list of types</span></div>
<div class="line"><span class="keyword">using </span><a class="code hl_typedef" href="_array_to_string_test_8cpp.html#a0a068856c431e89a8ea5a8aad6ced5aa">ArrayTypes</a> = ::testing::Types&lt;</div>
<div class="line">    U32Array,</div>
<div class="line">    F32Array</div>
<div class="line">&gt;;</div>
<div class="line"><a class="code hl_function" href="_fpp_test_2array_2_main_8cpp.html#aa6482079cde91a8aa7bf201d78517d05">INSTANTIATE_TYPED_TEST_SUITE_P</a>(ExampleInstance, </div>
<div class="line">                               <a class="code hl_class" href="class_array_test.html">ArrayTest</a>, </div>
<div class="line">                               <a class="code hl_typedef" href="_array_to_string_test_8cpp.html#a0a068856c431e89a8ea5a8aad6ced5aa">ArrayTypes</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Explicit specializations for setTestVals()</span></div>
<div class="line"><span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="namespace_fpp_test_1_1_array.html#ab0a8b178616ec06a43998351b2092cfe">FppTest::Array::setTestVals&lt;U32Array&gt;</a></div>
<div class="line">    (U32Array::ElementType (&amp;a)[U32Array::SIZE]) {</div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="basic__types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a> i = 0; i &lt; U32Array::SIZE; i++) {</div>
<div class="line">        a[i] = i;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="namespace_fpp_test_1_1_array.html#ab0a8b178616ec06a43998351b2092cfe">FppTest::Array::setTestVals&lt;F32Array&gt;</a></div>
<div class="line">    (F32Array::ElementType (&amp;a)[F32Array::SIZE]) {</div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="basic__types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a> i = 0; i &lt; F32Array::SIZE; i++) {</div>
<div class="line">        a[i] = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="_basic_types_8h.html#a841d3674577a1e86afdc2f4845f46c4b">F32</a><span class="keyword">&gt;</span>(i);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Explicit specializations for getMultiElementConstructedArray()</span></div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line">U32Array <a class="code hl_function" href="namespace_fpp_test_1_1_array.html#a4bac0a9be0663dfcbc32a8983f415f66">FppTest::Array::getMultiElementConstructedArray&lt;U32Array&gt;</a></div>
<div class="line">    (U32Array::ElementType (&amp;a)[U32Array::SIZE]) {</div>
<div class="line">    <span class="keywordflow">return</span> U32Array(a[0], a[1], a[2]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line">F32Array <a class="code hl_function" href="namespace_fpp_test_1_1_array.html#a4bac0a9be0663dfcbc32a8983f415f66">FppTest::Array::getMultiElementConstructedArray&lt;F32Array&gt;</a></div>
<div class="line">    (F32Array::ElementType (&amp;a)[F32Array::SIZE]) {</div>
<div class="line">    <span class="keywordflow">return</span> F32Array(a[0], a[1], a[2], a[3]);</div>
<div class="line">}</div>
<div class="ttc" id="a_array_test_8hpp_html"><div class="ttname"><a href="_array_test_8hpp.html">ArrayTest.hpp</a></div></div>
<div class="ttc" id="a_array_to_string_test_8cpp_html_a0a068856c431e89a8ea5a8aad6ced5aa"><div class="ttname"><a href="_array_to_string_test_8cpp.html#a0a068856c431e89a8ea5a8aad6ced5aa">ArrayTypes</a></div><div class="ttdeci">::testing::Types&lt; Enum, String, Struct, Uint32Array &gt; ArrayTypes</div><div class="ttdef"><b>Definition</b> <a href="_array_to_string_test_8cpp_source.html#l00035">ArrayToStringTest.cpp:35</a></div></div>
<div class="ttc" id="a_basic_types_8h_html_a841d3674577a1e86afdc2f4845f46c4b"><div class="ttname"><a href="_basic_types_8h.html#a841d3674577a1e86afdc2f4845f46c4b">F32</a></div><div class="ttdeci">float F32</div><div class="ttdoc">32-bit floating point</div><div class="ttdef"><b>Definition</b> <a href="_basic_types_8h_source.html#l00045">BasicTypes.h:45</a></div></div>
<div class="ttc" id="aclass_array_test_html"><div class="ttname"><a href="class_array_test.html">ArrayTest</a></div><div class="ttdef"><b>Definition</b> <a href="_array_test_8hpp_source.html#l00055">ArrayTest.hpp:55</a></div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
