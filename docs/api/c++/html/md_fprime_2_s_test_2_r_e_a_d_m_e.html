<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F´ Flight Software - C/C++ Documentation: STest</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">F´ Flight Software - C/C++ Documentation<span id="projectnumber">&#160;devel</span>
   </div>
   <div id="projectbrief">A framework for building embedded system applications to NASA flight quality standards.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_fprime_2_s_test_2_r_e_a_d_m_e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">STest</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md829"></a></p>
<p><a class="el" href="namespace_s_test.html">STest</a> is a framework for using <b>rules</b> and <b>scenarios</b> to construct and run unit tests. The concepts of "rules" and "scenarios" are described below. Using rules and scenarios provides structure to unit tests. By automatically generating tests, scenarios can also provide more coverage than is possible with manually-written tests.</p>
<ul>
<li><a class="el" href="_r_p_i_2_main_8cpp.html#a921d8f5f7ea2c19a831946625f1570c6">State</a></li>
<li>Rule</li>
<li>Scenario</li>
<li>Use in F Prime</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md830"></a>
State</h2>
<p>In rule-based testing, <b>state</b> refers to the current state of a running test. It usually includes <b>concrete state</b> (the actual state of the system under test) and <b>test state</b> or <b>abstract state</b> (state that abstracts the state of the system under test, to assist with modeling).</p>
<p>In the <a class="el" href="namespace_s_test.html">STest</a> implementation of rule-based testing, <code>State</code> is a user-defined type. The <code>Rule</code> and <code>Scenario</code> classes discussed below are templates that are parameterized over this type.</p>
<h2><a class="anchor" id="autotoc_md831"></a>
Rule</h2>
<p>A <b>rule</b> is a unit of test code that specifies and checks some behavior of the system under test. It has two elements:</p>
<ol type="1">
<li>A <b>precondition</b> that specifies when the rule may be applied. A precondition is a predicate function (i.e., a read-only function that returns a Boolean value) on the <a class="el" href="_r_p_i_2_main_8cpp.html#a921d8f5f7ea2c19a831946625f1570c6">system state</a>. For example, consider a rule that exercises the nominal behavior of a buffer allocator. The precondition for this rule might specify that a buffer is available for allocation. On the other hand, the precondition for a rule that exercises the error case "buffer not available" might specify that all buffers have been allocated.</li>
<li>An <b>action</b> that (a) causes the system under test to do something and (b) checks that the resulting behavior is as expected, given the current system state. For example, a "nominal" or "OK" rule for a buffer allocator might check that a buffer was allocated. A "buffer not available" rule might check that the appropriate warning is emitted as an F' event.</li>
</ol>
<p>When using <a class="el" href="namespace_s_test.html">STest</a>, you specify rules as derived classes of the abstract class <a href="./STest/Rule/Rule.hpp">Rule</a>. You specify the precondition and action by overriding pure virtual functions specified in the <code>Rule</code> interface.</p>
<h2><a class="anchor" id="autotoc_md832"></a>
Scenario</h2>
<p>A <b>scenario</b> is a recipe for using a set of rules to construct one or more tests. Examples of scenarios include the following:</p><ul>
<li>Applying a set of rules in a sequence which is either fixed (<a href="./STest/Scenario/RuleSequenceScenario.hpp">RuleSequenceScenario</a>) or randomized (<a href="./STest/Scenario/RandomScenario.hpp">RandomScenario</a>)</li>
<li>Repeatedly applying a rule within a scenario (<a href="./STest/Scenario/RepeatedRuleScenario.hpp">RepeatedRuleScenario</a>)</li>
<li>Running a scenario while a condition holds (<a href="./STest/Scenario/ConditionalScenario.hpp">ConditionalScenario</a>)</li>
<li>Creating a sequence of scenarios (<a href="./STest/Scenario/SequenceScenario.hpp">SequenceScenario</a>) and randomly selecting one of them to run (<a href="./STest/Scenario/SelectedScenario.hpp">SelectedScenario</a>)</li>
<li>Randomly interleaving a set of scenarios (<a href="./STest/Scenario/InterleavedScenario.hpp">InterleavedScenario</a>)</li>
<li>Iterating over a collection of scenarios (<a href="./STest/Scenario/IteratedScenario.hpp">IteratedScenario</a>) or over a particular one till a certain condition holds (<a href="./STest/Scenario/ConditionalIteratedScenario.hpp">ConditionalIteratedScenario</a>)</li>
<li>Running an iterated scenario with a specific bound on the number of iterations (<a href="./STest/Scenario/BoundedIteratedScenario.hpp">BoundedIteratedScenario</a>)</li>
<li>Running a scenario for a certain bound, with the range being either fixed (<a href="./STest/Scenario/BoundedScenario.hpp">BoundedScenario</a>) or randomly selected (<a href="./STest/Scenario/RandomlyBoundedScenario.hpp">RandomlyBoundedScenario</a>)</li>
</ul>
<p>The iterated and random scenarios allow you to construct complex tests that explore many behaviors, using relatively simple specifications. Typically the tests constructed with these scenarios are not feasible to write by hand (e.g., because they apply thousands or millions of rules).</p>
<h2><a class="anchor" id="autotoc_md833"></a>
Use in F Prime</h2>
<p>At present, F Prime uses <a class="el" href="namespace_s_test.html">STest</a> for unit testing of components. An example is <a href="https://github.com/nasa/fprime/blob/master/Fw/Logger/test/ut/LoggerRules.cpp">Fw/Logger</a>. The main scenarios used here are as follows:</p>
<ul>
<li>Short sequences of rules that set up the system state and then test a particular rule.</li>
<li>Random scenarios for automatically generating more complex tests. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
